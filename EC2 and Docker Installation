-- Create t2.xlarge ec2 instance with Amazon Linux 2 AMI (HVM)
Storage- 96 GB
Allow ports- 0-10000




-- Connect to the instance using SSH (1)
ssh -i "hive_docker_setup.pem" ec2-user@ec2-13-232-237-175.ap-south-1.compute.amazonaws.com




-- Install and setup Docker and Docker-compose (1)
sudo yum update -y
sudo yum install docker
sudo curl -L "https://github.com/docker/compose/releases/download/v2.23.3/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
sudo gpasswd -a $USER docker
newgrp docker


-- Start Docker (1)
sudo systemctl start docker

-----To Up the Docker (1)
cd docker_exp
docker-compose up

-- Port Forwarding to access services locally (1)
#####USE THIS ONE
ssh -i "C:\Users\SHEKHAR\Downloads\key-pair.pem" ec2-user@ec2-16-16-58-103.eu-north-1.compute.amazonaws.com -L 2081:localhost:2041 -L 4888:localhost:4888 -L 2080:localhost:2080 -L 8050:localhost:8050 -L 4141:localhost:4141



# in 2nd TERMINAL (2)
scp -r -i "key-pair.pem" docker_exp ec2-user@ec2-16-16-58-103.eu-north-1.compute.amazonaws.com:/home/ec2-user/docker_exp



-- Check status of all running containers and get their ports and names
docker ps



-- To get into bash shell of different containers
docker exec -i -t ra_mysql bash
docker exec -i -t ra_sqoop bash
docker exec -i -t ra_hive-server bash
docker exec -i -t hdp_spark-master bash
docker exec -i -t docker_exp_redis_1 bash



---mysql -u root -p
password : example

-- Stop docker containers
docker-compose stop

-- Stop Docker
sudo systemctl stop docker

-- Remove docker containers
docker-compose down (stop and remove containers)

